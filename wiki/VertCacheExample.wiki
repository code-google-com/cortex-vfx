#summary Exporting maya animation as vertcaches

This simple example demonstrates the export of animation to a vertex cache using cortex. It can be used to generate vertex caches which can be used with the AnimatedProceduralExample.

{{{
import os

import maya.cmds

import IECore
import IECoreMaya

def exportMeshes( meshes, destinationDirectory ) :

	if not os.path.exists( destinationDirectory ) :
		os.makedirs( destinationDirectory )	

	for mesh in meshes :
	
		converter = IECoreMaya.FromMayaShapeConverter.create( mesh )
		converted = converter.convert()
		writer = IECore.ObjectWriter( converted, destinationDirectory + "/" + mesh + ".cob" )
		writer.write()

allMeshes = maya.cmds.ls( selection=True, noIntermediate=True, dag=True, type="mesh" )
exportMeshes( allMeshes, "/tmp/myMeshes" )
}}}